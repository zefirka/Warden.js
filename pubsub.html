<!DOCTYPE html>
<html>
    <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Warden.js : Pub/Sub usage">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="assets/js/warden.min.js"></script>
    <script type="text/javascript" src="assets/js/highlight.pack.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
     

    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/github.css">    
     

    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="favicon.png">

    <title>Warden.js : Pub/Sub usage</title>
</head>
    <body>
        <header>
            <section id='logo' class='hidden-xs hidden-sm'>
              <div class="container">
                <div class='img-container'>
                  <a href="index.html">
                    <img src="assets/images/logo.png">
                  </a>
                </div>
              </div>
            </section>
            <section id='hpos' class='hidden-md hidden-lg'>
              <div class="container center">
                <a href="index.html"><h1>Warden.js</h1></a>
              </div>
            </section>
            <nav>
              <ul class='container no-padding'>
                <li class="col-md-3 col-sm-3 col-xs-6 col-lg-3 "><a href="about.html">About</a></li>
                <li class="col-md-3 col-sm-3 col-xs-6 col-lg-3 "><a href="docs.html">API</a></li>
                <li class="col-md-3 col-sm-3 col-xs-6 col-lg-3 "><a href="demo.html">Tutorials</a></li>
                <li class="col-md-3 col-sm-3 col-xs-6 col-lg-3 "><a href="download.html">Download</a></li>
                <a href="https://github.com/zefirka/Warden.js" class='fork'></a>
              </ul>
            </nav>
          </header>
        <input type="hidden" id='active_tab' value="demo">
        <div class="container">
  <div class="row">
    <div class="col-md-3 col-sm-3 col-xs-12 col-lg-2">
  <h2>Demos</h2>
  <ul id='submenu'>
    <li>Simple</li>
    <li><a href="pubsub.html">Pub/Sub</a></li>
    <li><a href="streams.html">Streams</a></li>
    <li>Event streams</li>
    <li><a href="counter.html">Counter</a></li>
    <li><a href="dragndrop.html">Drag'n'Drop</a></li>
    <li><a href="away.html">Away module</a></li>
    <li><a href="http.html">HTTP Ajax module</a></li>
    <li>Composing</li>
    <li><a href="sync.html">Synchronization</a></li>
    <li><a href="combining.html">Combining</a></li>
    <li>Formulas</li>
    <li><a href="formula.html">Formulas</a></li>
    <li><a href="counting.html">Resolving</a></li>
  </ul>
</div>
    <div class="col-md-9 col-sm-9 col-xs-12 col-lg-10">
      <section class='b-doc-section'>
        <h2>Using Pub/Sub pattern with Warden</h2>
        <h3>Simple objects and ready modules</h3>
        <p><code>Warden</code> is function that extends object with methods <code>listen</code>, <code>unlisten</code>, <code>emit</code>, <code>stream</code>.</p>
        <pre><code  class="javascript">var empty = Warden();
empty.listen('foo', function(event){
  console.log(event.message);
});

empty.emit({type: 'foo', message: 'Hello World!'});

// -> Hellow World!
</code></pre>
        <p>When object is already exists.</p>
        <pre><code  class="javascript">var module = {prop: 'val'}

Warden(module); 
// now module has Warden methods

module.listen('foo', function(event){
  console.log(event.message);
  console.log(this.prop);
});

module.emit({type: 'foo', message: 'Hello World!'});

// -> Hellow World!
// -> val
</code></pre>
        <p>With modules which already have Pub/Sub methods with <code>addEventListener</code> or <code>on</code> methods</p>
        <pre><code  class="javascript">Warden(document);
document.listen('click', function(){
  console.log('Hey! You clicked at me!');
});

//or 
</code></pre>
        <h3>With constructors</h3>
        <p>If your module implemented as class constructor:</p>
        <pre><code  class="javascript">var Mammal = Warden(function Mammal(name){
  this.name = name;
});

Mammal.prototype.say = function(){
  this.emit('say', {
    name: this.name
  });
}

var dog = new Mammal('Zorg');

//subscribing on event
dog.listen('say', function(e){
  console.log('Hello my name is ' + e.name);
});

dog.say();

// -> Hello my name is Zorg;
</code></pre>
        </section>
      </div>
    </div>
  </div>
</div>

    </body>
</html>